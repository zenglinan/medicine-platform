(function(t){function e(e){for(var i,n,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)n=r[d],o[n]&&p.push(o[n][0]),o[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(i=!1)}i&&(a.splice(e--,1),t=n(n.s=s[0]))}return t}var i={},o={app:0},a=[];function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"09fe":function(t,e,s){},"0c67":function(t,e,s){},"191d":function(t,e,s){"use strict";var i=s("b2d5"),o=s.n(i);o.a},"2a27":function(t,e,s){},"2d6d":function(t,e,s){"use strict";var i=s("5650"),o=s.n(i);o.a},"2f4d":function(t,e,s){"use strict";var i=s("5eb8"),o=s.n(i);o.a},"31a2":function(t,e,s){},"31ff":function(t,e,s){},"34e7":function(t,e,s){"use strict";var i=s("31ff"),o=s.n(i);o.a},"3a7e":function(t,e,s){"use strict";var i=s("c010"),o=s.n(i);o.a},5650:function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var i=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"},on:{touchmove:function(t){t.preventDefault()}}},[s("v-header",{attrs:{seller:t.seller}}),s("div",{staticClass:"tab-wrapper"},[s("tab",{attrs:{tabs:t.tabs}})],1)],1)},a=[],n=(s("f751"),s("386d"),s("72bf")),r=s.n(n),l=s("0e9a"),c={development:"http://49.233.137.79:4001",production:"http://49.233.137.79:4001"},u=c["production"];function d(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log(u,t),l["a"].get(u+t,{params:e}).then(function(t){return t.data}).catch(function(t){})}}var p=d("/seller"),f=d("/goods"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header",on:{click:t.showDetail}},[s("div",{staticClass:"content-wrapper"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{width:"64",height:"64",src:t.seller.avatar}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[s("span",{staticClass:"brand"}),s("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),s("div",{staticClass:"description"},[t._v("\n        "+t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达\n      ")]),t.seller.supports?s("div",{staticClass:"support"},[s("support-ico",{attrs:{size:1,type:t.seller.supports[0].type}}),s("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])],1):t._e()]),t.seller.supports?s("div",{staticClass:"support-count"},[s("span",{staticClass:"count"},[t._v(t._s(t.seller.supports.length)+"个")]),s("i",{staticClass:"icon-keyboard_arrow_right"})]):t._e()]),s("div",{staticClass:"bulletin-wrapper"},[s("span",{staticClass:"bulletin-title"}),s("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))]),s("i",{staticClass:"icon-keyboard_arrow_right"})]),s("div",{staticClass:"background"},[s("img",{attrs:{src:t.seller.avatar,width:"100%",height:"100%"}})])])},v=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"support-ico",class:t.iconCls})},C=[],_=(s("c5f6"),{name:"support-ico",props:{size:{type:Number},type:{type:Number}},computed:{iconCls:function(){var t=["decrease","discount","special","invoice","guarantee"];return"icon-".concat(this.size," ").concat(t[this.type])}}}),b=_,y=(s("bfda"),s("2877")),g=Object(y["a"])(b,m,C,!1,null,"b3235eac",null);g.options.__file="support-ico.vue";var w=g.exports,k={name:"v-header",props:{seller:{type:Object,default:function(){return{}}}},methods:{showDetail:function(){this.headerDetailComp=this.headerDetailComp||this.$createHeaderDetail({$props:{seller:"seller"}}),this.headerDetailComp.show()}},components:{SupportIco:w}},x=k,S=(s("a734"),Object(y["a"])(x,h,v,!1,null,null,null));S.options.__file="v-header.vue";var $=S.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods"},[s("div",{staticClass:"scroll-nav-wrapper"},[t.goods.length?s("cube-scroll-nav",{attrs:{side:!0,data:t.goods,options:t.scrollOptions},scopedSlots:t._u([{key:"bar",fn:function(e){return[s("cube-scroll-nav-bar",{attrs:{direction:"vertical",labels:e.labels,txts:t.barTxts,current:e.current},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"text"},[e.txt.type>=1?s("support-ico",{attrs:{size:3,type:e.txt.type}}):t._e(),s("span",[t._v(t._s(e.txt.name))]),e.txt.count?s("span",{staticClass:"num"},[s("bubble",{attrs:{num:e.txt.count}})],1):t._e()],1)]}}],!0)})]}}])},t._l(t.goods,function(e){return s("cube-scroll-nav-panel",{key:e.name,attrs:{label:e.name,title:e.name}},[s("ul",t._l(e.foods,function(e){return s("li",{key:e.name,staticClass:"food-item",on:{click:function(s){return t.selectFood(e)}}},[s("div",{staticClass:"icon"},[s("img",{attrs:{width:"57",height:"57",src:e.image}})]),s("div",{staticClass:"content"},[s("h2",{staticClass:"name"},[t._v(t._s(e.name))]),s("p",{staticClass:"desc"},[t._v(t._s(e.description))]),s("div",{staticClass:"extra"},[s("span",{staticClass:"count"},[t._v("月售"+t._s(e.sellCount)+"份")])]),s("div",{staticClass:"price"},[s("span",{staticClass:"now"},[t._v("￥"+t._s(e.price))]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(e.oldPrice))])]),s("div",{staticClass:"cart-control-wrapper"},[s("cart-control",{attrs:{food:e},on:{add:t.onAdd}})],1)])])}),0)])}),1):t._e()],1),s("div",{staticClass:"shop-cart-wrapper"},[s("shop-cart",{ref:"shopCart",attrs:{"select-foods":t.selectFoods,"delivery-price":t.seller.deliveryPrice,"min-price":t.seller.minPrice}})],1)])},O=[],F=(s("7f7f"),s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cartcontrol"},[s("transition",{attrs:{name:"move"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease",on:{click:function(e){return e.stopPropagation(),t.decrease(e)}}},[s("span",{staticClass:"inner icon-remove_circle_outline"})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),s("div",{staticClass:"cart-add icon-add_circle",on:{click:function(e){return e.stopPropagation(),t.add(e)}}})],1)}),j=[],T="add",E={name:"cart-control",props:{food:{type:Object}},methods:{add:function(t){this.food.count?this.food.count++:this.$set(this.food,"count",1),this.$emit(T,t.target)},decrease:function(){this.food.count&&this.food.count--}}},N=E,L=(s("a62f"),Object(y["a"])(N,F,j,!1,null,"4cd7b46a",null));L.options.__file="cart-control.vue";var D=L.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"shopcart"},[s("div",{staticClass:"content",on:{click:t.toggleList}},[s("div",{staticClass:"content-left"},[s("div",{staticClass:"logo-wrapper"},[s("div",{staticClass:"logo",class:{highlight:t.totalCount>0}},[s("i",{staticClass:"icon-shopping_cart",class:{highlight:t.totalCount>0}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount>0"}],staticClass:"num"},[s("bubble",{attrs:{num:t.totalCount}})],1)]),s("div",{staticClass:"price",class:{highlight:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice))]),s("div",{staticClass:"desc"},[t._v("免配送费")])]),s("div",{staticClass:"content-right",on:{click:t.pay}},[s("div",{staticClass:"pay",class:t.payClass},[t._v("\n          "+t._s(t.payDesc)+"\n        ")])])]),s("div",{staticClass:"ball-container"},t._l(t.balls,function(e,i){return s("div",{key:i},[s("transition",{on:{"before-enter":t.beforeDrop,enter:t.dropping,"after-enter":t.afterDrop}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"ball.show"}],staticClass:"ball"},[s("div",{staticClass:"inner inner-hook"})])])],1)}),0)])])},z=[],A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"bubble"},[t._v("\n  "+t._s(t.num)+"\n")])},M=[],I={name:"bubble",props:{num:{type:Number}}},H=I,Y=(s("3a7e"),Object(y["a"])(H,A,M,!1,null,"6885cdb7",null));Y.options.__file="bubble.vue";var R=Y.exports,J=10,U="inner-hook";function W(){for(var t=[],e=0;e<J;e++)t.push({show:!1});return t}var V={name:"shop-cart",props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0},sticky:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},data:function(){return{balls:W(),listFold:this.fold}},created:function(){this.dropBalls=[]},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.price*e.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.count}),t},payDesc:function(){if(0===this.totalPrice)return"￥".concat(this.minPrice,"元起送");if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"还差￥".concat(t,"元起送")}return"去结算"},payClass:function(){return!this.totalCount||this.totalPrice<this.minPrice?"not-enough":"enough"}},methods:{toggleList:function(){if(this.listFold){if(!this.totalCount)return;this.listFold=!1,this._showShopCartList(),this._showShopCartSticky()}else this.listFold=!0,this._hideShopCartList()},pay:function(t){this.totalPrice<this.minPrice||(this.$createDialog({title:"支付",content:"您需要支付".concat(this.totalPrice,"元")}).show(),t.stopPropagation())},drop:function(t){for(var e=0;e<this.balls.length;e++){var s=this.balls[e];if(!s.show)return s.show=!0,s.el=t,void this.dropBalls.push(s)}},beforeDrop:function(t){var e=this.dropBalls[this.dropBalls.length-1],s=e.el.getBoundingClientRect(),i=s.left-32,o=-(window.innerHeight-s.top-22);t.style.display="",t.style.transform=t.style.webkitTransform="translate3d(0,".concat(o,"px,0)");var a=t.getElementsByClassName(U)[0];a.style.transform=a.style.webkitTransform="translate3d(".concat(i,"px,0,0)")},dropping:function(t,e){this._reflow=document.body.offsetHeight,t.style.transform=t.style.webkitTransform="translate3d(0,0,0)";var s=t.getElementsByClassName(U)[0];s.style.transform=s.style.webkitTransform="translate3d(0,0,0)",t.addEventListener("transitionend",e)},afterDrop:function(t){var e=this.dropBalls.shift();e&&(e.show=!1,t.style.display="none")},_showShopCartList:function(){var t=this;this.shopCartListComp=this.shopCartListComp||this.$createShopCartList({$props:{selectFoods:"selectFoods"},$events:{leave:function(){t._hideShopCartSticky()},hide:function(){t.listFold=!0},add:function(e){t.shopCartStickyComp.drop(e)}}}),this.shopCartListComp.show()},_showShopCartSticky:function(){this.shopCartStickyComp=this.shopCartStickyComp||this.$createShopCartSticky({$props:{selectFoods:"selectFoods",deliveryPrice:"deliveryPrice",minPrice:"minPrice",fold:"listFold",list:this.shopCartListComp}}),this.shopCartStickyComp.show()},_hideShopCartList:function(){var t=this.sticky?this.$parent.list:this.shopCartListComp;t.hide&&t.hide()},_hideShopCartSticky:function(){this.shopCartStickyComp.hide()}},watch:{fold:function(t){this.listFold=t},totalCount:function(t){this.fold||0!==t||this._hideShopCartList()}},components:{Bubble:R}},X=V,q=(s("d976"),Object(y["a"])(X,B,z,!1,null,"6f2c798a",null));q.options.__file="shop-cart.vue";var G=q.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"move"},on:{"after-leave":t.afterLeave}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"food"},[s("cube-scroll",{ref:"scroll"},[s("div",{staticClass:"food-content"},[s("div",{staticClass:"image-header"},[s("img",{attrs:{src:t.food.image}}),s("div",{staticClass:"back",on:{click:t.hide}},[s("i",{staticClass:"icon-arrow_lift"})])]),s("div",{staticClass:"content"},[s("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),s("div",{staticClass:"detail"},[s("span",{staticClass:"sell-count"},[t._v("月销售："+t._s(t.food.sellCount))])]),s("div",{staticClass:"price"},[s("span",{staticClass:"now"},[t._v("￥"+t._s(t.food.price))]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(t.food.oldPrice))])]),s("div",{staticClass:"cart-control-wrapper"},[s("cart-control",{attrs:{food:t.food},on:{add:t.addFood}})],1),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count,expression:"!food.count"}],staticClass:"buy",on:{click:t.addFirst}},[t._v("\n              加入购物车\n            ")])])],1),s("split",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}],staticClass:"info"},[s("h1",[t._v("说明书")]),s("h3",{staticClass:"title"},[t._v("【 药品信息 】")]),s("p",{staticClass:"text"},[t._v(t._s(t.food.info))]),s("h3",{staticClass:"title"},[t._v("【 规格 】")]),s("p",{staticClass:"text"},[t._v(t._s(t.food.size))]),s("h3",{staticClass:"title"},[t._v("【 生产日期 】")]),s("p",{staticClass:"text"},[t._v(t._s(t.food.date))]),s("h3",{staticClass:"title"},[t._v("【 有效期 】")]),s("p",{staticClass:"text"},[t._v(t._s(t.food.valid)+"个月")]),s("h3",{staticClass:"title"},[t._v("【 库存 】")]),s("p",{staticClass:"text"},[t._v(t._s(t.food.store))]),s("h3",{staticClass:"title"},[t._v("【 注意事项 】")]),s("p",{staticClass:"text"},[t._v(t._s(t.food.warning))])]),s("split")],1)])],1)])},Q=[],Z=s("c1df"),tt=s.n(Z),et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rating-select"},[s("div",{staticClass:"rating-type border-bottom-1px"},[s("span",{staticClass:"block positive",class:{active:2===t.selectType},on:{click:function(e){return t.select(2)}}},[t._v(t._s(t.desc.all)),s("span",{staticClass:"count"},[t._v(t._s(t.ratings.length))])]),s("span",{staticClass:"block positive",class:{active:0===t.selectType},on:{click:function(e){return t.select(0)}}},[t._v(t._s(t.desc.positive)),s("span",{staticClass:"count"},[t._v(t._s(t.positives.length))])]),s("span",{staticClass:"block negative",class:{active:1===t.selectType},on:{click:function(e){return t.select(1)}}},[t._v(t._s(t.desc.negative)),s("span",{staticClass:"count"},[t._v(t._s(t.negatives.length))])])])])},st=[],it=0,ot=1,at=2,nt="toggle",rt="select",lt={props:{ratings:{type:Array,default:function(){return[]}},selectType:{type:Number,default:at},onlyContent:{type:Boolean,default:!1},desc:{type:Object,default:function(){return{all:"全部",positive:"满意",negative:"不满意"}}}},computed:{positives:function(){return this.ratings.filter(function(t){return t.rateType===it})},negatives:function(){return this.ratings.filter(function(t){return t.rateType===ot})}},methods:{select:function(t){this.$emit(rt,t)},toggleContent:function(){this.$emit(nt)}}},ct=lt,ut=(s("8f0f"),Object(y["a"])(ct,et,st,!1,null,null,null));ut.options.__file="rating-select.vue";var dt=ut.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"split"})},ft=[],ht={name:"split"},vt=ht,mt=(s("6b5e"),Object(y["a"])(vt,pt,ft,!1,null,"6a13eb82",null));mt.options.__file="split.vue";var Ct=mt.exports,_t=2,bt={data:function(){return{selectType:_t,onlyContent:!0}},computed:{computedRatings:function(){var t=[];return t}},methods:{onSelect:function(t){this.selectType=t},onToggle:function(){this.onlyContent=!this.onlyContent}}},yt="show",gt="hide",wt={data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0,this.$emit(yt)},hide:function(){this.visible=!1,this.$emit(gt)}}},kt="show",xt="add",St="leave",$t={name:"food",mixins:[bt,wt],props:{food:{type:Object}},data:function(){return{desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},computed:{ratings:function(){return this.food.ratings}},created:function(){var t=this;this.$on(kt,function(){t.$nextTick(function(){t.$refs.scroll.refresh()})})},methods:{afterLeave:function(){this.$emit(St)},addFirst:function(t){this.$set(this.food,"count",1),this.$emit(xt,t.target)},addFood:function(t){this.$emit(xt,t)},format:function(t){return tt()(t).format("YYYY-MM-DD hh:mm")}},components:{CartControl:D,RatingSelect:dt,Split:Ct}},Pt=$t,Ot=(s("9445"),Object(y["a"])(Pt,K,Q,!1,null,"bb0df0d2",null));Ot.options.__file="food.vue";var Ft=Ot.exports,jt={name:"goods",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{goods:[],selectedFood:{},scrollOptions:{click:!1,directionLockThreshold:0}}},computed:{seller:function(){return this.data.seller},selectFoods:function(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t},barTxts:function(){var t=[];return this.goods.forEach(function(e){var s=e.name,i=e.foods,o=0;i.forEach(function(t){o+=t.count||0}),t.push({name:s,count:o})}),t}},methods:{fetch:function(){var t=this;this.fetched||(this.fetched=!0,f().then(function(e){t.goods=e}))},selectFood:function(t){this.selectedFood=t,this._showFood(),this._showShopCartSticky()},onAdd:function(t){this.$refs.shopCart.drop(t)},_showFood:function(){var t=this;this.foodComp=this.foodComp||this.$createFood({$props:{food:"selectedFood"},$events:{add:function(e){t.shopCartStickyComp.drop(e)},leave:function(){t._hideShopCartSticky()}}}),this.foodComp.show()},_showShopCartSticky:function(){this.shopCartStickyComp=this.shopCartStickyComp||this.$createShopCartSticky({$props:{selectFoods:"selectFoods",deliveryPrice:this.seller.deliveryPrice,minPrice:this.seller.minPrice,fold:!0}}),this.shopCartStickyComp.show()},_hideShopCartSticky:function(){this.shopCartStickyComp.hide()}},components:{Bubble:R,SupportIco:w,CartControl:D,ShopCart:G,Food:Ft}},Tt=jt,Et=(s("d60c"),Object(y["a"])(Tt,P,O,!1,null,"6d1270b7",null));Et.options.__file="goods.vue";var Nt=Et.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cube-scroll",{staticClass:"seller",attrs:{options:t.sellerScrollOptions}},[s("div",{staticClass:"seller-content"},[s("div",{staticClass:"overview"},[s("h1",{staticClass:"title"},[t._v(t._s(t.seller.name))]),s("div",{staticClass:"desc border-bottom-1px"},[s("star",{attrs:{size:36,score:t.seller.score}})],1),s("ul",{staticClass:"remark"},[s("li",{staticClass:"block"},[s("h2",[t._v("起送价")]),s("div",{staticClass:"content"},[s("span",{staticClass:"stress"},[t._v(t._s(t.seller.minPrice))]),t._v("元\n          ")])]),s("li",{staticClass:"block"},[s("h2",[t._v("商家配送")]),s("div",{staticClass:"content"},[s("span",{staticClass:"stress"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("元\n          ")])]),s("li",{staticClass:"block"},[s("h2",[t._v("平均配送时间")]),s("div",{staticClass:"content"},[s("span",{staticClass:"stress"},[t._v(t._s(t.seller.deliveryTime))]),t._v("分钟\n          ")])])]),s("div",{staticClass:"favorite",on:{click:t.toggleFavorite}},[s("span",{staticClass:"icon-favorite",class:{active:t.favorite}}),s("span",{staticClass:"text"},[t._v(t._s(t.favoriteText))])])]),s("split"),s("div",{staticClass:"bulletin"},[s("h1",{staticClass:"title"},[t._v("公告与活动")]),s("div",{staticClass:"content-wrapper border-bottom-1px"},[s("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])]),t.seller.supports?s("ul",{staticClass:"supports"},t._l(t.seller.supports,function(e,i){return s("li",{key:i,staticClass:"support-item border-bottom-1px"},[s("support-ico",{attrs:{size:4,type:t.seller.supports[i].type}}),s("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[i].description))])],1)}),0):t._e()]),s("split"),s("div",{staticClass:"pics"},[s("h1",{staticClass:"title"},[t._v("商家实景")]),s("cube-scroll",{staticClass:"pic-wrapper",attrs:{options:t.picScrollOptions}},[s("ul",{staticClass:"pic-list"},t._l(t.seller.pics,function(t,e){return s("li",{key:e,staticClass:"pic-item"},[s("img",{attrs:{src:t,width:"120",height:"90"}})])}),0)])],1),s("split"),s("div",{staticClass:"info"},[s("h1",{staticClass:"title border-bottom-1px"},[t._v("商家信息")]),s("ul",t._l(t.seller.infos,function(e,i){return s("li",{key:i,staticClass:"info-item border-bottom-1px"},[t._v("\n          "+t._s(e)+"\n        ")])}),0)])],1)])},Dt=[],Bt=s("633f"),zt=s.n(Bt),At="__seller__";function Mt(t,e,s){var i=zt.a.get(At,{});i[t]||(i[t]={}),i[t][e]=s,zt.a.set(At,i)}function It(t,e,s){var i=zt.a.get(At,{});return i[t]&&i[t][e]||s}var Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star",class:t.starType},t._l(t.itemClasses,function(t,e){return s("span",{key:e,staticClass:"star-item",class:t})}),0)},Yt=[],Rt=5,Jt="on",Ut="half",Wt="off",Vt={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var t=[],e=Math.floor(2*this.score)/2,s=e%1!==0,i=Math.floor(e),o=0;o<i;o++)t.push(Jt);s&&t.push(Ut);while(t.length<Rt)t.push(Wt);return t}}},Xt=Vt,qt=(s("5717"),Object(y["a"])(Xt,Ht,Yt,!1,null,null,null));qt.options.__file="star.vue";var Gt=qt.exports,Kt={props:{data:{type:Object,default:function(){return{}}}},data:function(){return{favorite:!1,sellerScrollOptions:{directionLockThreshold:0,click:!1},picScrollOptions:{scrollX:!0,stopPropagation:!0,directionLockThreshold:0}}},computed:{seller:function(){return this.data.seller||{}},favoriteText:function(){return this.favorite?"已收藏":"收藏"}},created:function(){this.favorite=It(this.seller.id,"favorite",!1)},methods:{toggleFavorite:function(){this.favorite=!this.favorite,Mt(this.seller.id,"favorite",this.favorite)}},components:{SupportIco:w,Star:Gt,Split:Ct}},Qt=Kt,Zt=(s("2f4d"),Object(y["a"])(Qt,Lt,Dt,!1,null,"9f49a110",null));Zt.options.__file="seller.vue";var te=Zt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab"},[s("cube-tab-bar",{ref:"tabBar",staticClass:"border-bottom-1px",attrs:{useTransition:!1,showSlider:!0,data:t.tabs},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}}),s("div",{staticClass:"slide-wrapper"},[s("cube-slide",{ref:"slide",attrs:{loop:!1,"auto-play":!1,"show-dots":!1,"initial-index":t.index,options:t.slideOptions},on:{scroll:t.onScroll,change:t.onChange}},t._l(t.tabs,function(t,e){return s("cube-slide-item",{key:e},[s(t.component,{ref:"component",refInFor:!0,tag:"component",attrs:{data:t.data}})],1)}),1)],1)],1)},se=[],ie=(s("20d6"),{name:"tab",props:{tabs:{type:Array,default:function(){return[]}},initialIndex:{type:Number,default:0}},data:function(){return{index:this.initialIndex,slideOptions:{listenScroll:!0,probeType:3,directionLockThreshold:0}}},computed:{selectedLabel:{get:function(){return this.tabs[this.index].label},set:function(t){this.index=this.tabs.findIndex(function(e){return e.label===t})}}},mounted:function(){this.onChange(this.index)},methods:{onScroll:function(t){var e=this.$refs.tabBar.$el.clientWidth,s=this.$refs.slide.slide.scrollerWidth,i=-t.x/s*e;this.$refs.tabBar.setSliderTransform(i)},onChange:function(t){this.index=t;var e=this.$refs.component[t];e&&e.fetch&&e.fetch()}}}),oe=ie,ae=(s("2d6d"),Object(y["a"])(oe,ee,se,!1,null,"06df0a14",null));ae.options.__file="tab.vue";var ne=ae.exports,re={data:function(){return{seller:{id:r.a.parse(location.search).id}}},computed:{tabs:function(){return[{label:"商品",component:Nt,data:{seller:this.seller}},{label:"关于我们",component:te,data:{seller:this.seller}}]}},created:function(){this._getSeller()},methods:{_getSeller:function(){var t=this;p({id:this.seller.id}).then(function(e){t.seller=Object.assign({},t.seller,e)})}},components:{Tab:ne,VHeader:$}},le=re,ce=(s("34e7"),Object(y["a"])(le,o,a,!1,null,"785e3d12",null));ce.options.__file="App.vue";var ue=ce.exports,de=(s("df49"),s("2696")),pe=s("031d"),fe=s("1cc1"),he=s("0679"),ve=s("2799"),me=s("36b6"),Ce=s("0f85");i["a"].use(de["a"]),i["a"].use(pe["a"]),i["a"].use(fe["a"]),i["a"].use(he["a"]),i["a"].use(ve["a"]),i["a"].use(me["a"]),i["a"].use(Ce["a"]);var _e=s("df9a"),be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"header-detail",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}},[s("div",{staticClass:"detail-wrapper clear-fix"},[s("div",{staticClass:"detail-main"},[s("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),s("div",{staticClass:"star-wrapper"},[s("star",{attrs:{size:48,score:t.seller.score}})],1),s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),s("div",{staticClass:"text"},[t._v("优惠信息")]),s("div",{staticClass:"line"})]),t.seller.supports?s("ul",{staticClass:"supports"},t._l(t.seller.supports,function(e,i){return s("li",{key:e.id,staticClass:"support-item"},[s("support-ico",{attrs:{size:2,type:t.seller.supports[i].type}}),s("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[i].description))])],1)}),0):t._e(),s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),s("div",{staticClass:"text"},[t._v("商家公告")]),s("div",{staticClass:"line"})]),s("div",{staticClass:"bulletin"},[s("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])])])]),s("div",{staticClass:"detail-close",on:{click:t.hide}},[s("i",{staticClass:"icon-close"})])])])},ye=[],ge={name:"header-detail",mixins:[wt],props:{seller:{type:Object,default:function(){return{}}}},components:{SupportIco:w,Star:Gt}},we=ge,ke=(s("191d"),Object(y["a"])(we,be,ye,!1,null,"373f268b",null));ke.options.__file="header-detail.vue";var xe=ke.exports,Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade",appear:""}},[s("cube-popup",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],attrs:{"mask-closable":!0,position:"bottom",type:"shop-cart-list","z-index":90},on:{"mask-click":t.maskClick}},[s("transition",{attrs:{name:"move",appear:""},on:{"after-leave":t.afterLeave}},[t.visible?s("div",[s("div",{staticClass:"list-header"},[s("h1",{staticClass:"title"},[t._v("购物车")]),s("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),s("cube-scroll",{ref:"listContent",staticClass:"list-content"},[s("ul",t._l(t.selectFoods,function(e,i){return s("li",{key:i,staticClass:"food"},[s("span",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"price"},[s("span",[t._v("￥"+t._s(e.price*e.count))])]),s("div",{staticClass:"cart-control-wrapper"},[s("cart-control",{attrs:{food:e},on:{add:t.onAdd}})],1)])}),0)])],1):t._e()])],1)],1)},$e=[],Pe="show",Oe="add",Fe="leave",je={name:"shop-cart-list",mixins:[wt],props:{selectFoods:{type:Array,default:function(){return[]}}},created:function(){var t=this;this.$on(Pe,function(){t.$nextTick(function(){t.$refs.listContent.refresh()})})},methods:{onAdd:function(t){this.$emit(Oe,t)},afterLeave:function(){this.$emit(Fe)},maskClick:function(){this.hide()},empty:function(){var t=this;this.dialogComp=this.$createDialog({type:"confirm",content:"清空购物车？",$events:{confirm:function(){t.selectFoods.forEach(function(t){t.count=0}),t.hide()}}}),this.dialogComp.show()}},components:{CartControl:D}},Te=je,Ee=(s("d0f6"),Object(y["a"])(Te,Se,$e,!1,null,"c9f18bb4",null));Ee.options.__file="shop-cart-list.vue";var Ne=Ee.exports,Le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"shop-cart-sticky"},[s("shop-cart",{ref:"shopCart",attrs:{selectFoods:t.selectFoods,deliveryPrice:t.deliveryPrice,minPrice:t.minPrice,fold:t.fold,sticky:!0}})],1)},De=[],Be={name:"shop-cart-sticky",mixins:[wt],props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0},fold:{type:Boolean,default:!0},list:{type:Object,default:function(){return{}}}},methods:{drop:function(t){this.$refs.shopCart.drop(t)}},components:{ShopCart:G}},ze=Be,Ae=(s("7783"),Object(y["a"])(ze,Le,De,!1,null,"935c8998",null));Ae.options.__file="shop-cart-sticky.vue";var Me=Ae.exports;Object(_e["a"])(i["a"],xe),Object(_e["a"])(i["a"],Ne),Object(_e["a"])(i["a"],Me),Object(_e["a"])(i["a"],Ft);s("f867");i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(ue)}}).$mount("#app")},5717:function(t,e,s){"use strict";var i=s("a901"),o=s.n(i);o.a},"5d9c":function(t,e,s){var i={"./zh-cn":"5c3a","./zh-cn.js":"5c3a"};function o(t){var e=a(t);return s(e)}function a(t){var e=i[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}o.keys=function(){return Object.keys(i)},o.resolve=a,t.exports=o,o.id="5d9c"},"5eb8":function(t,e,s){},"6b5e":function(t,e,s){"use strict";var i=s("09fe"),o=s.n(i);o.a},"6cb1":function(t,e,s){},7783:function(t,e,s){"use strict";var i=s("6cb1"),o=s.n(i);o.a},8861:function(t,e,s){},"8d1e":function(t,e,s){},"8f0f":function(t,e,s){"use strict";var i=s("8d1e"),o=s.n(i);o.a},9445:function(t,e,s){"use strict";var i=s("2a27"),o=s.n(i);o.a},a62f:function(t,e,s){"use strict";var i=s("d65e"),o=s.n(i);o.a},a734:function(t,e,s){"use strict";var i=s("e322"),o=s.n(i);o.a},a8f4:function(t,e,s){},a901:function(t,e,s){},b2d5:function(t,e,s){},bfda:function(t,e,s){"use strict";var i=s("31a2"),o=s.n(i);o.a},c010:function(t,e,s){},d0f6:function(t,e,s){"use strict";var i=s("a8f4"),o=s.n(i);o.a},d60c:function(t,e,s){"use strict";var i=s("0c67"),o=s.n(i);o.a},d65e:function(t,e,s){},d976:function(t,e,s){"use strict";var i=s("8861"),o=s.n(i);o.a},e322:function(t,e,s){},f867:function(t,e,s){}});
//# sourceMappingURL=app.7a874b6e.js.map